### Subscription Purchase & Management API Testing

# Base URL
@baseURL = http://localhost:4000/v1
<<<<<<< HEAD
@adminToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2ODk2MzBkYjI3Y2I3OWM0YTFiMzJjM2UiLCJlbWFpbCI6ImFkbWluQGdtYWlsLmNvbSIsInVzZXJUeXBlIjoiYWRtaW4iLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NTUxNzU4MTEsImV4cCI6MTc1NTI2MjIxMX0.hA6bDdt354l8vJDSsWLk8Hn_IzGKunAS-9cD3m5biDY
@userToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2ODllMmE1ZTI2NzQyODAwODMyMjA0NGMiLCJlbWFpbCI6InVzZXJAZ21haWwuY29tIiwidXNlclR5cGUiOiJ1c2VyIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTY0ODg5MTIsImV4cCI6MTc1NjU3NTMxMn0.ypPz0vnNm88NSKocreRMliVswuz-4tjQjsPl02BoOKc
@subscriptionId = 689ddbd8bd0e72f74f580a4c
@userSubscriptionId = 689247b921ca814950b20380
@transactionId = TXN_1755176666817_2DHJPO
@deliveryZoneId = 689e2aec2674280083220470
@promoCode = WELCOME50
@razorpayOrderId = order_689247b921ca814950b20382
@razorpayPaymentId = pay_689247b921ca814950b20383
@razorpaySignature = sig_689247b921ca814950b20384
=======
@accessToke = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2ODkxZjUyODhiZmU2YjM3NDk0MDlkMzUiLCJlbWFpbCI6InVzZXJAZ21haWwuY29tIiwidXNlclR5cGUiOiJ1c2VyIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTUxNzYwOTMsImV4cCI6MTc1NTI2MjQ5M30.UxcC5v9P62mVwnRTkZVWmzgrq5Hs0UC9SvWkq16odIE
>>>>>>> 82f9d3043cf8cac2502166b057287f382723cb9d


<<<<<<< HEAD
### Purchase a Subscription without Promo Code (User)
=======

### ============== SUBSCRIPTION PURCHASE & MANAGEMENT APIs ==============

### Initiate Subscription Purchase (Requires Authentication)
>>>>>>> 82f9d3043cf8cac2502166b057287f382723cb9d
POST {{baseURL}}/subscription-purchase/initiate
Content-Type: application/json
Authorization: Bearer {{accessToke}}

{
  "subscriptionId": "60f7b3b3b3b3b3b3b3b3b3b3",
  "promoCode": "WELCOME10",
  "deliveryAddress": {
    "street": "123 Main Street, Apartment 4B",
    "city": "Mumbai",
    "state": "Maharashtra",
    "country": "India",
    "zipCode": "400001",
    "landmark": "Near Metro Station",
    "coordinates": {
      "type": "Point",
      "coordinates": [72.8777, 19.0760]
    }
  },
  "mealTimings": {
    "lunch": {
      "enabled": true,
      "time": "13:00"
    },
    "dinner": {
      "enabled": true,
      "time": "20:00"
    }
  },
  "startDate": "2025-03-01T00:00:00.000Z"
}

### Verify Payment (Requires Authentication)
POST {{baseURL}}/subscription-purchase/verify-payment
Content-Type: application/json
Authorization: Bearer {{accessToke}}

{
  "razorpay_order_id": "order_XXXXXXXXXXXXXXX",
  "razorpay_payment_id": "pay_XXXXXXXXXXXXXXX",
  "razorpay_signature": "signature_XXXXXXXXXXXXXXX",
  "userSubscriptionId": "60f7b3b3b3b3b3b3b3b3b3b3"
}

### Get My Subscriptions (Requires Authentication)
GET {{baseURL}}/my-subscriptions?page=1&limit=10&status=active
Authorization: Bearer {{accessToke}}

### Get My Subscriptions with Filters
GET {{baseURL}}/my-subscriptions?page=1&limit=5&status=active&category=home_chef&startDate=2024-01-01&endDate=2024-12-31
Authorization: Bearer {{accessToke}}

### Get Subscription by ID (Requires Authentication)
GET {{baseURL}}/my-subscriptions/60f7b3b3b3b3b3b3b3b3b3b3
Authorization: Bearer {{accessToke}}

### Cancel Subscription (Requires Authentication)
POST {{baseURL}}/my-subscriptions/60f7b3b3b3b3b3b3b3b3b3b3/cancel
Content-Type: application/json
Authorization: Bearer {{accessToke}}

{
  "reason": "Not satisfied with the food quality and delivery timing"
}

### Request Vendor Switch (Requires Authentication)
POST {{baseURL}}/my-subscriptions/60f7b3b3b3b3b3b3b3b3b3b3/request-vendor-switch
Content-Type: application/json
Authorization: Bearer {{accessToke}}

{
  "reason": "Current vendor has inconsistent delivery times and food quality issues"
}

