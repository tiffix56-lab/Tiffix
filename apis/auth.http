### Authentication API Testing

@baseURL = http://localhost:4000/v1
// For user
@email = user@gmail.com
# @email = swarup@gmail.com
// For vendor
# @email = vendor@gmail.com
# @email = spice.restaurant@example.com
// for Admin
# @email = admin@gmail.com
@password = Test@123
@name = Test User
@phoneNumber = 918308657425
@accessToke = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OTE4N2M5ZDYxZDg0ODFiOWE2NWNjZmIiLCJlbWFpbCI6InVzZXIyMjJAZ21haWwuY29tIiwidXNlclR5cGUiOiJ1c2VyIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NjMyMTI0NjMsImV4cCI6MTc2MzI5ODg2M30.mkLL7RbD5SN_HYwfVXlbHvnHkpWszYqLae2XaCHDeDw

## Self
GET {{baseURL}}/auth/self
Content-Type: application/json

### Register a new user
POST {{baseURL}}/auth/register
Content-Type: application/json

{
  "name": "{{name}}",
  "emailAddress": "{{email}}",
  "password": "{{password}}",
  "phoneNumber": "{{phoneNumber}}"
}

## "referralCode": ""

### Resend verification OTP
POST {{baseURL}}/auth/resend-otp
Content-Type: application/json

{
  "emailAddress": "{{email}}"
}

### Verify email with OTP (Use OTP from email or 000000 for development)
POST {{baseURL}}/auth/verify-email
Content-Type: application/json

{
  "emailAddress": "{{email}}",
  "otp": "000000"
}

### Login with credentials
POST {{baseURL}}/auth/login
Content-Type: application/json

{
  "emailAddress": "{{email}}",
  "password": "{{password}}"
}


### Get authenticated user details
GET {{baseURL}}/auth/me
Authorization: Bearer {{accessToke}}

### Change Password (Requires Authentication)
POST {{baseURL}}/auth/change-password
Content-Type: application/json
Authorization: Bearer {{accessToke}}

{
  "currentPassword": "{{password}}",
  "newPassword": "NewPassword123!",
  "confirmPassword": "NewPassword123!"
}

### Forgot Password
POST {{baseURL}}/auth/forgot-password
Content-Type: application/json

{
  "emailAddress": "{{email}}"
}

### Reset Password (Use OTP from email)
POST {{baseURL}}/auth/reset-password
Content-Type: application/json

{
  "emailAddress": "{{email}}",
  "otp": "000000",
  "newPassword": "ResetPassword123!"
}

### Logout (Requires Authentication)
POST {{baseURL}}/auth/logout
Authorization: Bearer {{accessToke}}

### Google OAuth Login (Browser redirect)
GET {{baseURL}}/auth/google

### Facebook OAuth Login (Browser redirect)
GET {{baseURL}}/auth/facebook


### Update Phone Number for OAuth Users (Requires Authentication)
POST {{baseURL}}/auth/init-profile-fill
Content-Type: application/json
Authorization: Bearer {{accessToke}}

{
  "phoneNumber": "919876543211"
}

### ============== LOCATION MANAGEMENT APIs ==============

### Update User Location (Requires Authentication)
### Update User Location - Mumbai Example
PUT {{baseURL}}/auth/location
Content-Type: application/json
Authorization: Bearer {{accessToke}}

{
  "latitude": 19.0760,
  "longitude": 72.8777,
  "address": "Bandra West, Mumbai",
  "city": "Mumbai",
  "state": "Maharashtra",
  "country": "India",
  "pincode": "400050"
}

### Update User Location - Bangalore Example
POST {{baseURL}}/subscription-purchase/check-location
Content-Type: application/json
Authorization: Bearer {{accessToke}}

{
  "lat" : "25.41202786554406",
  "lng": "82.99833732354232",
  "zonelng": "",
  "pincode": "221002" 
}



### Update Location - Minimal (Only Coordinates Required)


### Get Current User Location (Requires Authentication)
GET {{baseURL}}/auth/location
Authorization: Bearer {{accessToke}}


POST {{baseURL}}/subscription-purchase/check-location
Content-Type: application/json
Authorization: Bearer {{accessToke}}

{
  "phoneNumber": "919876543211"
}


PUT {{baseURL}}/auth/location
Content-Type: application/json
Authorization: Bearer {{accessToke}}

{
  "latitude": 22.5726,
  "longitude": 88.3639
}



### Delete Account
POST {{baseURL}}/auth/delete-account
Content-Type: application/json
Authorization: Bearer {{accessToke}}

{
  "reson": "testing",
  "password": "{{password}}"
}

### Test Twilio SMS
POST {{baseURL}}/admin/test/twilio
Content-Type: application/json
Authorization: Bearer {{accessToke}}

{
  "phoneNumber": "{{phoneNumber}}",
  "message": "Test Message from Tiffix API"
}
